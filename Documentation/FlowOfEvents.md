
# Описание потоков событий для Use Cases
## Use Case 1: Регистрация нового пользователя
Актёры: Гость
Предусловия: Пользователь не авторизован в системе
Постусловия: Создана новая учетная запись, пользователь автоматически авторизован

### Основной поток событий:
1. Система отображает кнопку "Регистрация" в шапке сайта
2. Пользователь нажимает кнопку "Регистрация"
3. Система отображает модальное окно регистрации с полями:
- Имя пользователя (обязательное)
- Электронная почта (обязательное)
- Пароль (обязательное)
- Подтверждение пароля (обязательное)
- Кнопка "Зарегистрироваться"
- Ссылка "Уже есть аккаунт? Войти"

4. Пользователь вводит:
- Имя пользователя: "asia_fan2024"
- Email: "asia_fan@mail.com"
- Пароль: "********"
- Подтверждение пароля: "********"

5. Пользователь нажимает кнопку "Зарегистрироваться"
6. Система проверяет данные на валидность
7. Система создает новую учетную запись
8. Система автоматически выполняет вход
9. Система отображает сообщение "Регистрация успешно завершена!"
10. Система перенаправляет на главную страницу

####  Альтернативные потоки:
А1: Пользователь с таким именем уже существует
6.1. Система обнаруживает существующего пользователя с именем "asia_fan2024"
6.2. Система отображает сообщение об ошибке "Имя пользователя уже занято"
6.3. Система подсвечивает поле имени пользователя красной рамкой
6.4. Поток возвращается к шагу 4

А2: Неверный формат email
6.1. Система проверяет формат email и обнаруживает ошибку
6.2. Система отображает сообщение "Введите корректный email адрес"
6.3. Система подсвечивает поле email красной рамкой
6.4. Поток возвращается к шагу 4

А3: Пароли не совпадают
6.1. Система проверяет совпадение паролей и обнаруживает расхождение
6.2. Система отображает сообщение "Пароли не совпадают"
6.3. Система подсвечивает поля паролей красной рамкой
6.4. Поток возвращается к шагу 4

А4: Пользователь отменяет регистрацию
4.1. Пользователь нажимает кнопку "Отмена" или кликает вне модального окна
4.2. Система закрывает модальное окно регистрации
4.3. Use Case завершается

## Use Case 2: Вход в учетную запись
Актёры: Гость, Пользователь, Администратор
Предусловия: Пользователь имеет существующую учетную запись
Постусловия: Пользователь авторизован в системе

### Основной поток событий:
1. Система отображает кнопку "Войти" в шапке сайта
2. Пользователь нажимает кнопку "Войти"
3. Система отображает модальное окно входа с полями:
- Email или имя пользователя
- Пароль
- Чекбокс "Запомнить меня"
- Кнопка "Войти"
- Ссылка "Забыли пароль?"
- Ссылка "Регистрация"

4. Пользователь вводит:
- Логин: "asia_fan2024"
- Пароль: "********"

5. Пользователь нажимает кнопку "Войти"
6. Система проверяет учетные данные
7. Система создает сессию пользователя
8. Система обновляет интерфейс (появляется аватар и меню пользователя)
9. Система перенаправляет на предыдущую страницу или главную

#### Альтернативные потоки:
А1: Неверные учетные данные
6.1. Система не находит пользователя с указанными данными
6.2. Система отображает сообщение "Неверный логин или пароль"
6.3. Система очищает поле пароля
6.4. Поток возвращается к шагу 4

А2: Вход как администратор
3.1. Администратор выбирает опцию "Вход для администратора"
3.2. Система отображает расширенную форму с дополнительными полями безопасности
3.3. Дальнейший поток аналогичен основному

## Use Case 3: Просмотр информации о сериале
Актёры: Гость, Пользователь
Предусловия: Пользователь находится на главной странице или в каталоге
Постусловия: Пользователь просматривает детальную информацию о сериале

### Основной поток событий:
1. Система отображает карточки сериалов с:
- Постером
- Названием
- Рейтингом
- Годом выпуска

2. Пользователь нажимает на карточку сериала "Лунные влюбленные"
3. Система загружает страницу сериала с разделами:
- Постер и основная информация
- Кнопка "Смотреть"
- Кнопка "Добавить в коллекцию" (для авторизованных)
- Описание сюжета
- Актерский состав
- Список серий
- Отзывы и рейтинги

4. Пользователь просматривает информацию о сериале
5. Пользователь может прокручивать страницу для изучения разных разделов

#### Альтернативные потоки:
А1: Сериал не найден
3.1. Система не может найти запрошенный сериал
3.2. Система отображает страницу 404 с сообщением "Сериал не найден"
3.3. Система предлагает вернуться в каталог

## Use Case 4: Добавление сериала в коллекцию
Актёры: Пользователь
Предусловия: Пользователь авторизован и находится на странице сериала
Постусловия: Сериал добавлен в выбранную пользовательскую коллекцию

### Основной поток событий:
1. Система отображает кнопку "Добавить в коллекцию" на странице сериала
2. Пользователь нажимает кнопку "Добавить в коллекцию"
3. Система отображает выпадающее меню с вариантами коллекций:
- "Смотреть позже"
- "Любимое"
- "Смотрю"
- "Просмотрено"

4. Пользователь выбирает "Смотреть позже"
5. Система добавляет сериал в выбранную коллекцию
6. Система отображает уведомление "Сериал добавлен в 'Смотреть позже'"
7. Система обновляет иконку кнопки (добавляет отметку о добавлении)

#### Альтернативные потоки:
А1: Сериал уже в коллекции
5.1. Система обнаруживает, что сериал уже находится в выбранной коллекции
5.2. Система отображает сообщение "Сериал уже в этой коллекции"
5.3. Use Case завершается

А2: Пользователь отменяет действие
4.1. Пользователь кликает вне меню выбора коллекции
4.2. Система закрывает выпадающее меню
4.3. Use Case завершается

## Use Case 5: Просмотр сериала
Актёры: Пользователь, Гость
Предусловия: Пользователь находится на странице сериала
Постусловия: Пользователь просматривает видео-контент

№№№Основной поток событий:
1. Система отображает список серий с:
- Номером серии
- Названием серии
- Длительностью
- Иконкой воспроизведения

2. Пользователь нажимает на серию 1 "Первая встреча"
3. Система открывает медиаплеер с:
- Видео-контентом
- Элементами управления (пауза, громкость, полноэкранный режим)
- Выбором качества видео
- Выбором озвучки/субтитров
- Таймкодом

4. Пользователь управляет воспроизведением с помощью элементов управления
5. Система сохраняет прогресс просмотра (для авторизованных пользователей)

#### Альтернативные потоки:
А1: Для гостя
5.1. Для неавторизованных пользователей система не сохраняет прогресс
5.2. Система может показывать рекламу перед началом воспроизведения

А2: Проблемы с воспроизведением
3.1. Видео не загружается из-за проблем с сетью
3.2. Система отображает сообщение "Ошибка загрузки видео"
3.3. Система предлагает повторить попытку или выбрать другое качество

## Use Case 6: Управление интеграциями и конфигурацией системы
Актёры: Администратор
Предусловия: Администратор авторизован в системе
Постусловия: Настройки системы обновлены

### Основной поток событий:
1. Система отображает панель администратора в меню пользователя
2. Администратор выбирает "Управление системой"
3. Система отображает панель управления с разделами:
- Интеграция с TMDB
- Настройки API
- Управление пользователями
- Системные логи
- Резервное копирование

4. Администратор редактирует настройки интеграции с TMDB:
- Вводит API ключ
- Настраивает частоту синхронизации
- Выбирает регионы для загрузки контента

5. Администратор сохраняет изменения
6. Система применяет новые настройки
7. Система отображает сообщение "Настройки успешно сохранены"

#### Альтернативные потоки:
А1: Невалидный API ключ
5.1. Система проверяет API ключ и обнаруживает невалидность
5.2. Система отображает сообщение "Неверный API ключ"
5.3. Система подсвечивает поле ввода красной рамкой
5.4. Поток возвращается к шагу 4
